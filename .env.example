# =============================================================================
# Unified RAG Configuration
# =============================================================================
# This file configures all three capabilities:
#   1. Gosu code ingestion (from gosu-chroma-rag)
#   2. PDF documentation ingestion (from chroma-rag-docs)
#   3. RAG agent for querying

# -----------------------------------------------------------------------------
# LLM Provider Configuration
# -----------------------------------------------------------------------------
# Provider: 'openai' | 'anthropic' | 'azure_openai' | 'google'
PROVIDER=google

# Model identifier (e.g., 'gpt-4o-mini', 'gemini-2.5-flash', 'claude-3-5-sonnet-20241022')
MODEL=gemini-2.5-flash

# Tool schema format: 'openai' | 'anthropic'
TOOL_FORMAT=openai

# -----------------------------------------------------------------------------
# OpenAI Configuration
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your-openai-api-key-here

# -----------------------------------------------------------------------------
# Anthropic Configuration
# -----------------------------------------------------------------------------
# ANTHROPIC_API_KEY=your-anthropic-api-key-here

# -----------------------------------------------------------------------------
# Azure OpenAI Configuration
# -----------------------------------------------------------------------------
# AZURE_OPENAI_API_KEY=your-azure-openai-api-key-here
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# -----------------------------------------------------------------------------
# Google Gemini Configuration
# -----------------------------------------------------------------------------
# GOOGLE_API_KEY=your-google-api-key-here

# -----------------------------------------------------------------------------
# Embedding Configuration
# -----------------------------------------------------------------------------
# Embedding provider: 'openai' | 'google'
EMBEDDING_PROVIDER=google

# Embedding model (defaults: text-embedding-ada-002 for OpenAI, text-embedding-004 for Google)
EMBEDDING_MODEL=text-embedding-004

# Optional: Override API key for embeddings (defaults to provider's main API key)
# EMBEDDING_API_KEY=

# -----------------------------------------------------------------------------
# Source Paths (for ingestion)
# -----------------------------------------------------------------------------
# Gosu codebase for ingestion (npm run ingest:code)
CODE_SOURCE_PATH=./gsrc

# PDF documentation for ingestion (npm run ingest:docs)
DOCS_SOURCE_PATH=./docs

# Source root for file system tools (read_source_file, find_source_files)
SOURCE_ROOT_PATH=./gsrc

# -----------------------------------------------------------------------------
# Vector Store Configuration
# -----------------------------------------------------------------------------
# Vector store type (currently only 'chroma' is supported)
VECTOR_STORE=chroma

# Chroma server configuration
CHROMA_HOST=localhost
CHROMA_PORT=8000

# Collection names for ingestion and query
CODE_COLLECTION=guidewire-code
DOCS_COLLECTION=docs

# Collections to query (comma-separated, used by RAG agent)
CHROMA_COLLECTIONS=guidewire-code,docs

# Optional: Chroma tenant and database (for multi-tenant deployments)
# CHROMA_TENANT=default_tenant
# CHROMA_DATABASE=default_database

# -----------------------------------------------------------------------------
# Agent Runtime Configuration
# -----------------------------------------------------------------------------
# Maximum number of tool calls per step
MAX_TURNS=10

# Default number of results from semantic search
TOP_K=6

# Logging level: 'error' | 'warn' | 'info' | 'debug' | 'trace'
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Agent System Prompt
# -----------------------------------------------------------------------------
# Path to the agent system prompt markdown file
# Can be absolute or relative to project root
AGENT_SYSTEM_PROMPT_PATH=prompts/agent_system.md

# Alternative prompt files for different environments:
# AGENT_SYSTEM_PROMPT_PATH=./prompts/production-agent.md
# AGENT_SYSTEM_PROMPT_PATH=./prompts/dev-agent.md

# -----------------------------------------------------------------------------
# Optional: Prompt Overrides
# -----------------------------------------------------------------------------
# You can override individual prompts by specifying them here.
# Leave commented to use defaults from src/config/prompts.ts

# PROMPT_PLANNER_SYSTEM_PATH="prompts/planner_system.md"
# PROMPT_STEP_SYSTEM_PATH="prompts/step_system.md"
# PROMPT_STEP_DEVELOPER_PATH="prompts/step_developer.md"
# PROMPT_EVALUATOR_SYSTEM_PATH="prompts/evaluator_system.md"
# PROMPT_FINALIZER_SYSTEM_PATH="prompts/finalizer_system.md"

# =============================================================================
# End of Configuration
# =============================================================================
